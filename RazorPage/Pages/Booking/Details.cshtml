@page
@model RazorPage.Pages.Booking.DetailsModel

@{
    ViewData["Title"] = "Booking Details";
}

<div class="container mt-5">
    <h1 class="text-center mb-4">Booking Reservation Details</h1>

    <div class="card mb-4">
        <div class="card-header bg-primary text-white">
            <h4 class="m-0">Booking Reservation</h4>
        </div>
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3">@Html.DisplayNameFor(model => model.BookingReservation.BookingDate)</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.BookingReservation.BookingDate)</dd>

                <dt class="col-sm-3">@Html.DisplayNameFor(model => model.BookingReservation.TotalPrice)</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.BookingReservation.TotalPrice)</dd>

                <dt class="col-sm-3">@Html.DisplayNameFor(model => model.BookingReservation.BookingStatus)</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.BookingReservation.BookingStatus)</dd>

                <dt class="col-sm-3">@Html.DisplayNameFor(model => model.BookingReservation.Customer)</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.BookingReservation.Customer.CustomerFullName)</dd>
            </dl>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-header bg-secondary text-white">
            <h4 class="m-0">Booking Details</h4>
        </div>
        <div class="card-body p-0">
            <table class="table table-striped table-bordered m-0">
                <thead class="thead-dark">
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.BookingReservation.BookingDetails.First().RoomId)</th>
                        <th>@Html.DisplayNameFor(model => model.BookingReservation.BookingDetails.First().StartDate)</th>
                        <th>@Html.DisplayNameFor(model => model.BookingReservation.BookingDetails.First().EndDate)</th>
                        <th>@Html.DisplayNameFor(model => model.BookingReservation.BookingDetails.First().ActualPrice)</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var detail in Model.BookingReservation.BookingDetails)
                    {
                        <tr>
                            <td>@Html.DisplayFor(modelItem => detail.RoomId)</td>
                            <td>@Html.DisplayFor(modelItem => detail.StartDate)</td>
                            <td>@Html.DisplayFor(modelItem => detail.EndDate)</td>
                            <td>@Html.DisplayFor(modelItem => detail.ActualPrice)</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="text-center">
        <a asp-page="./History" class="btn btn-sm btn-primary">
            <i class="bi bi-arrow-left"></i> Back to List
        </a>
    </div>
</div>

<style>
    .btn-primary {
        background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,121,174,1) 35%, rgba(0,212,255,1) 100%);
        border: none;
    }

        .btn-primary:hover {
            background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,121,174,1) 35%, rgba(0,212,255,1) 100%);
        }

        .btn-primary.btn-sm {
            padding: 0.25rem 0.5rem;
            font-size: 0.875rem;
        }

    .card {
        background-color: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 0.75rem;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .card-header {
        border-radius: 0.75rem 0.75rem 0 0;
        background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,121,174,1) 35%, rgba(0,212,255,1) 100%);
    }

    .table {
        margin-top: 0;
        border-top: none;
    }

        .table th, .table td {
            vertical-align: middle;
            text-align: center;
        }

    .container {
        max-width: 1200px;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        })
    });
</script>
