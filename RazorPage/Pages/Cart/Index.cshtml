@page
@model RazorPage.Pages.Cart.IndexModel
@{
    ViewData["Title"] = "Cart";
}

<h1>Cart</h1>

@if (Model.Rooms.Any())
{
    <table class="table table-hover">
        <thead class="table-dark">
            <tr>
                <th>Room Number</th>
                <th>Room Type</th>
                <th>Price per Day</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Rooms)
            {
                <tr>
                    <td>@item.RoomNumber</td>
                    <td>@item.RoomType.RoomTypeName</td>
                    <td>@item.RoomPricePerDay</td>
                    <td>
                        <form method="post" asp-page-handler="RemoveFromCart" asp-route-roomId="@item.RoomId">
                            <button type="submit" class="btn btn-danger">Remove</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <div class="mt-4">
        <h2>Booking Information</h2>
        <form method="post" asp-page-handler="CreateBooking">
            <div class="mb-3">
                <label for="customerName" class="form-label">Customer Name</label>
                <input type="text" id="customerName" name="CustomerName" class="form-control" value="@Model.CustomerName" required />
            </div>
            <div class="mb-3">
                <label for="checkInDate" class="form-label">Check-in Date</label>
                <input type="date" id="checkInDate" name="CheckInDate" class="form-control" required />
            </div>
            <div class="mb-3">
                <label for="checkOutDate" class="form-label">Check-out Date</label>
                <input type="date" id="checkOutDate" name="CheckOutDate" class="form-control" required />
            </div>
            <button type="submit" class="btn btn-success">Create Booking</button>
        </form>
    </div>
}
else
{
    <div class="alert alert-info" role="alert">
        Your cart is empty.
    </div>
}
